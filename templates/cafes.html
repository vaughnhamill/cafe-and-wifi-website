{% extends 'bootstrap/base.html' %}
{% block styles %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
{% endblock %}

{% block title %}Restaurants{% endblock %}

{% block content %}

<div class="container">
  <div class="row">
    <div class="col-sm-12">

      <h1>All Cafes</h1>

      {% with messages = get_flashed_messages() %}
        {% if messages %}
          <div class=flashes>
          {% for message in messages %}
            <p>{{ message }}</p>
          {% endfor %}
          </div>
        {% endif %}
      {% endwith %}

      <table>
          <tr>
              <td><h5><a href="{{ url_for('home') }}">Return to index page</a></h5></td>
              <td><h5><a href="{{ url_for('add_cafe') }}">Add a cafe</a></h5></td>
              <td><h5><a href="{{ url_for('get_random_cafe') }}">Get a random cafe</a></h5></td>
          </tr>
      </table>

	  <table class="table">
          <tr>
              <th> Id </th>
              <th> Name </th>
              <th> Map URL </th>
              <th> Image URL </th>
              <th> Location </th>
              <th> Seats </th>
              <th> Has Toilet </th>
              <th> Has WiFi </th>
              <th> Has Sockets </th>
              <th> Can Take Calls </th>
              <th> Coffee Price </th>
              <th> Update Cafe </th>
          </tr>

          {% for cafe in cafes %}
            <tr>
                <td>{{ cafe.id }}</td>
                <td>{{ cafe.name }}</td>
                <td><a href="{{ cafe.map_url }}">Map Link</a></td>
                <td><img src="{{ cafe.img_url }}" width="100" height="100"></td>
                <td>{{ cafe.location }}</td>
                <td>{{ cafe.seats }}</td>
                <td>{{ cafe.has_toilet }}</td>
                <td>{{ cafe.has_wifi }}</td>
                <td>{{ cafe.has_sockets }}</td>
                <td>{{ cafe.can_take_calls }}</td>
                <td>{{ cafe.coffee_price }}</td>
                <td><a href="{{ url_for('update_cafe', cafe_id=cafe.id) }}">Update</a></td>
            </tr>
          {% endfor %}
  	  </table>
    </div>
  </div>
</div>

{% endblock %}
